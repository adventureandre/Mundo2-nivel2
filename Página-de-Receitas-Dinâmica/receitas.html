<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Catálogo de Receitas</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body onload="preencheCatalogo()">
<header class="main_header">
    <h1>Catálogo de Receitas</h1>
</header>
<main class="main main_receitas bg-warning ">
    <section class="container-fluid">
        <div id="pnlCatalogo" class=" d-flex flex-wrap justify-content-around ">
<!-- lista de receita vem aki-->
        </div>
    </section>
</main>

<script>
    const receitas = [
        {
            "titulo": "Arroz de Couve-Flor",
            "imagem": "img/arrozcouveflor.png",
            "preparo": "Deixe a couve-flor picada. Adicione os ingredientes e refogue bem. Adicione sal, tampe a panela e deixe cozinhar.",
            "ingredientes": [
                "Arroz",
                "Couve-Flor",
                "Cebola Média",
                "Azeite"
            ]
        },
        {
            "titulo": "Bolo de Café",
            "imagem": "img/bolo.png",
            "preparo": "Bata o açúcar, as gemas e o café. Adicione Farinha e chocolate e mexa bem. Bata as claras e junte à mistura.",
            "ingredientes": [
                "Farinha de Trigo",
                "Açúcar",
                "Café Coado",
                "Chocolate em Pó",
                "Ovos"
            ]
        },
        {
            "titulo": "Coxinha de Brigadeiro",
            "imagem": "img/Coxinha_de_brigadeiro.png",
            "preparo": "Junte o leite condensado, chocolate em pó e manteiga. Aqueça no fogo abaixo. Envolva os morangos e passe no granulado.",
            "ingredientes": [
                "Leite Condensado",
                "Chocolate em Pó",
                "Manteiga",
                "Morango",
                "Chocolate Granulado"
            ]
        }
    ];


    const getListaIngredientes = (receita) => {
        const ingredientes = receita.ingredientes;

        const lista = ingredientes.map((item) => {
            const li = document.createElement('li');
            li.textContent = item;
            return li;
        });

        const listainicio = '<ul class="receita_ingredientes">'

        return lista.reduce((accumulator, currentValue) => {
            return accumulator + currentValue.outerHTML;
        }, listainicio) + '</ul>';

    };


    const getCard = (receita) => {
        const listaIngredientes = getListaIngredientes(receita);

        const card = `
           <article class="receita">
                <div class="receita card" style="">
                    <img class="receita_img card-img-top w-100" src="${receita.imagem}" alt="${receita.titulo}">
                    <div class="card-body">
                    <h2 class="card-title receita_title">${receita.titulo}</h2>
                    <div class="card-text">
                        ${listaIngredientes}
                        <hr>
                        <div class="receita_preparo">
                            <p class="receita_preparo">${receita.preparo}</p>
                        </div>
                     </div>
                </div>
            </article>
  `;

        return card;
    };


    const preencheCatalogo = () => {
        const catalago = document.getElementById('pnlCatalogo')

        receitaslista = receitas.map((receita) => {
            return getCard(receita)
        })

        catalago.innerHTML = receitaslista.reduce((accumulator, currentValue) => {
            return accumulator + currentValue;
        });
    }

</script>
</body>
</html>